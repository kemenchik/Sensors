<div class="full-screen">
  <div class="full-screen__body">
    <div class="full-screen__title">Sensorica</div>
    <div class="full-screen__text">Платформа мониторинга метеорологических показаний</div>
    <video preload="auto" autoplay muted loop class="full-screen__video">
            <source type="video/mp4" src="assets/background.mp4">
<!--      <source type="video/mp4" src="https://denis-creative.com/wp-content/uploads/2018/01/video.mp4">-->
    </video>

    <form class="full-screen__signin" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <div class="container">
        <div class="container">
          <span>Логин</span>
          <clr-input-container>
            <input type="text" name="username" clrInput placeholder="Логин или почта" class="input_custom"
                   formControlName="usernameOrEmail"/>
          </clr-input-container>
        </div>
        <div class="container">
          <span>Пароль</span>
          <clr-password-container [clrToggle]="false">
            <input type="password" name="password" clrPassword placeholder="Пароль" class="input_custom"
                   formControlName="password"/>
          </clr-password-container>
        </div>
        <div class="error active" *ngIf="loginError">
          {{this.logErrorMessage}}
        </div>
        <div class="alert alert-success" role="alert" *ngIf="signUpSuccess">
          <div class="alert-items">
            <div class="alert-item static">
              <div class="alert-icon-wrapper">
                <clr-icon class="alert-icon" shape="check-circle"></clr-icon>
              </div>
              <span class="alert-text">{{this.logErrorMessage}}</span>
            </div>
          </div>
        </div>
        <button type="submit" class="btn btn-primary btn-success-custom" id="login-button">ВОЙТИ</button>
        <a type="button" class="signup" (click)="modalOpened = true" style="cursor: pointer">ЗАРЕГИСТРИРОВАТЬСЯ</a>
      </div>
    </form>
  </div>
</div>

<clr-modal [(clrModalOpen)]="modalOpened" [clrModalClosable]="false">
  <div class="modal-body">
    <div *ngIf="!proccedRegistration">
      <form clrForm [formGroup]="registrationForm" class="modal__form">
        <div class="container">
          <div class="container__row">
            <h5 class="container__row__left">Логин:</h5>
            <clr-input-container style="margin-bottom: .3rem;" class="container__row__right">
              <input clrInput type="text" placeholder="Логин" name="username" formControlName="username" class="input_custom"/>
              <clr-control-error>Минимальная длина: 5</clr-control-error>
            </clr-input-container>
          </div>
          <div class="container__row">
            <h5 class="container__row__left">Пароль:</h5>
            <clr-input-container style="margin-bottom: .3rem;" class="container__row__right">
              <input clrInput type="password" placeholder="Пароль" name="password" formControlName="password" class="input_custom"/>
              <clr-control-error>Минимальная длина: 8</clr-control-error>
            </clr-input-container>
          </div>
          <div class="container__row">
            <h5 class="container__row__left">Почта:</h5>
            <clr-input-container style="margin-bottom: .3rem;" class="container__row__right">
              <input clrInput type="email" placeholder="e-mail" name="email" formControlName="email" class="input_custom"/>
              <clr-control-error>Некорректный адрес почты</clr-control-error>
            </clr-input-container>
          </div>
        </div>
      </form>
      <div class="alert alert-danger" role="alert" *ngIf="regError">
        <div class="alert-items">
          <div class="alert-item static">
            <div class="alert-icon-wrapper">
              <clr-icon class="alert-icon" shape="exclamation-circle"></clr-icon>
            </div>
            <span class="alert-text">
            {{this.regErrorMessage}}
          </span>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline" (click)="modalOpened = false" style="color: white!important; --border-width: 2px">Закрыть</button>
        <button type="button" class="btn btn-primary" (click)="registration()">Зарегистрироваться</button>
      </div>
    </div>
    <div style="width: 100%; height: 90px" *ngIf="proccedRegistration">
      <div style="display: block; width: 100%; text-align: center; vertical-align: center">
        <clr-spinner></clr-spinner>
      </div>
    </div>
  </div>
</clr-modal>
